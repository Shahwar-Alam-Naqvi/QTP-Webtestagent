import aioboto3
from botocore.config import Config


class AIOBotoSession:

    def __init__(self, **kwargs) -> None:
        """
        Initializes an instance of AIOBotoSession with the provided AWS credentials and configuration.

        Args:
            kwargs: Arbitrary keyword arguments that may include:
                - aws_access_key_id (str): AWS access key ID.
                - aws_secret_access_key (str): AWS secret access key.
                - region_name (str): AWS region name.

        Attributes:
            aboto_session: An aioboto3 session initialized with the provided AWS credentials.
            retry_config: A botocore Config object for retry settings and timeouts.
        """
        self.aboto_session = aioboto3.Session(
            aws_access_key_id=kwargs.get("aws_access_key_id"),
            aws_secret_access_key=kwargs.get("aws_secret_access_key"),
            region_name=kwargs.get("region_name"))
        self.retry_config = Config(retries={
            'max_attempts': 4,
            'mode': 'adaptive'
        },
                                   connect_timeout=600,
                                   read_timeout=600)
